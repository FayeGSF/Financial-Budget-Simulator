{"ast":null,"code":"var _jsxFileName = \"/Users/shufengoh/Desktop/MAC 2025/COMP693 Individual Project/COMP693_25S2_project_Shu_Fen_Goh_1162340/frontend/src/components/Goals.jsx\",\n  _s = $RefreshSig$();\n// similar to dashboard but with added functionality to add, delete, update goals\n//  separate jsx add and edit goals\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { FaPlus, FaTimes, FaBullseye, FaCalendarAlt, FaEdit, FaTrash } from 'react-icons/fa';\nimport { GiMoneyStack } from \"react-icons/gi\";\nimport EditGoals from './EditGoals';\nimport AddGoal from './AddGoal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Goals({\n  goals,\n  goalProgress,\n  isLoading,\n  dashboardData,\n  onGoalUpdate\n}) {\n  _s();\n  const totalSavings = 0;\n  const totalGoals = (goals === null || goals === void 0 ? void 0 : goals.length) || 0;\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [error, setError] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [editingGoalId, setEditingGoalId] = useState(null);\n\n  // format currency of amount from backend\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('en-NZ', {\n      style: 'currency',\n      currency: 'NZD'\n    }).format(amount || 0);\n  };\n  // formate date from SQL to frontend format\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  // Progress bar component for individual goals\n  const ProgressBar = ({\n    goal\n  }) => {\n    // progress data for specific goal based on goal_id\n    const progress = goalProgress === null || goalProgress === void 0 ? void 0 : goalProgress.find(p => p.goal_id === goal.goal_id);\n    if (!progress) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 sm:px-6 py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-gray-200 rounded-full h-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-300 h-2 rounded-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this);\n    }\n    //  if there is a progress %, show the color etc\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-4 sm:px-6 py-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-gray-200 rounded-full h-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-blue-500 to-indigo-600 h-2 rounded-full transition-all duration-300\",\n          style: {\n            width: `${progress.percentage || 0}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between text-sm text-gray-500 mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-1\",\n          children: [/*#__PURE__*/_jsxDEV(GiMoneyStack, {\n            className: \"text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", (progress.goal_saving || 0).toLocaleString(), \" saved\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-green-600 font-medium\",\n          children: [progress.percentage || 0, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this);\n  };\n  const handleEditGoal = goalId => {\n    setEditingGoalId(goalId);\n  };\n  const handleCancelEdit = () => {\n    setEditingGoalId(null);\n  };\n  const handleGoalUpdated = () => {\n    setEditingGoalId(null);\n    if (onGoalUpdate) {\n      onGoalUpdate();\n    }\n  };\n  const apiBaseUrl = process.env.REACT_APP_API_URL;\n  // delete goal \n  const handleDeleteGoal = async goalId => {\n    try {\n      setError(null);\n      const response = await axios.delete(`${apiBaseUrl}/goals/delete/${goalId}`, {\n        withCredentials: true\n      });\n      if (response.status === 200) {\n        setSuccessMessage('Goal deleted successfully');\n        setTimeout(() => {\n          setSuccessMessage(null);\n        }, 5000);\n        onGoalUpdate();\n      } else {\n        setError(response.data.error || 'Failed to delete goal');\n        setTimeout(() => {\n          setError(null);\n        }, 5000);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error deleting goal:', error);\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to delete goal');\n      setTimeout(() => {\n        setError(null);\n      }, 5000);\n    }\n  };\n\n  // main return render section\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 py-4 sm:py-6 lg:py-8 px-3 sm:px-4 lg:px-6 xl:px-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-5xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-lg rounded-lg overflow-hidden mb-4 sm:mb-6 lg:mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-lime-900 to-lime-700 px-4 sm:px-6 py-4 sm:py-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl sm:text-2xl lg:text-3xl font-bold text-white\",\n                children: \"Goals\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-blue-100 mt-1 text-sm sm:text-base\",\n                children: \"Manage your financial goals\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setShowAddForm(!showAddForm),\n                  className: \"inline-flex items-center justify-center px-3 sm:px-4 py-2 border border-transparent text-sm  font-medium rounded-md text-blue-600 bg-white hover:bg-blue-500 hover:text-white transition-colors duration-200\",\n                  children: [showAddForm ? /*#__PURE__*/_jsxDEV(FaTimes, {\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 52\n                  }, this) : /*#__PURE__*/_jsxDEV(FaPlus, {\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 83\n                  }, this), showAddForm ? 'Cancel' : 'Add Goal']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), showAddForm && /*#__PURE__*/_jsxDEV(AddGoal, {\n        onSave: () => {\n          setShowAddForm(false);\n          setError(null);\n          if (onGoalUpdate) {\n            onGoalUpdate();\n          }\n        },\n        onClose: () => setShowAddForm(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 sm:mb-6 bg-green-50 border border-green-200 rounded-md p-3 sm:p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-medium text-green-800\",\n          children: successMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 sm:mb-6 bg-red-50 border border-red-200 rounded-md p-3 sm:p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-medium text-red-800\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), isLoading || !dashboardData ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-3 text-gray-600\",\n          children: \"Loading goals...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this) :\n      /*#__PURE__*/\n      /* show list of goals */\n      _jsxDEV(\"div\", {\n        className: \"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 space-y-3\",\n          children: !isLoading && goals && goals.length > 0 ? goals.map(goal => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white shadow-lg rounded-lg overflow-hidden mb-4 sm:mb-6 lg:mb-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"px-4 sm:px-6 py-4 border-b border-gray-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: `text-lg font-semibold ${(() => {\n                        const progress = goalProgress === null || goalProgress === void 0 ? void 0 : goalProgress.find(p => p.goal_id === goal.goal_id);\n                        return progress !== null && progress !== void 0 && progress.completed ? 'text-gray-500 line-through' : 'text-gray-900';\n                      })()}`,\n                      children: goal.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 191,\n                      columnNumber: 45\n                    }, this), (() => {\n                      const progress = goalProgress === null || goalProgress === void 0 ? void 0 : goalProgress.find(p => p.goal_id === goal.goal_id);\n                      return (progress === null || progress === void 0 ? void 0 : progress.completed) && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\",\n                        children: \"\\u2713 Completed\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 202,\n                        columnNumber: 53\n                      }, this);\n                    })()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 190,\n                    columnNumber: 41\n                  }, this), (() => {\n                    const progress = goalProgress === null || goalProgress === void 0 ? void 0 : goalProgress.find(p => p.goal_id === goal.goal_id);\n                    return !(progress !== null && progress !== void 0 && progress.completed) && /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleEditGoal(goal.goal_id),\n                        className: \"inline-flex items-center mr-2 px-3 py-1 rounded-md border border-gray-300 text-sm font-medium text-blue-600 bg-white hover:bg-gray-200 \",\n                        children: [/*#__PURE__*/_jsxDEV(FaEdit, {\n                          className: \"mr-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 216,\n                          columnNumber: 57\n                        }, this), \"Edit\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 212,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => handleDeleteGoal(goal.goal_id),\n                        className: \"inline-flex items-center px-3 py-1 rounded-md border border-gray-300 text-sm font-medium text-red-600 bg-white hover:bg-gray-50 \",\n                        children: [/*#__PURE__*/_jsxDEV(FaTrash, {\n                          className: \"mr-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 223,\n                          columnNumber: 57\n                        }, this), \"Delete\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 219,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 49\n                    }, this);\n                  })()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 sm:grid-cols-2 \",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(FaBullseye, {\n                      className: \"text-red-600\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-600\",\n                      children: \"Target:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 233,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg font-bold text-green-600\",\n                      children: [\"$\", parseFloat(goal.goal_amount || 0).toLocaleString()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 234,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 39\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-end items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(FaCalendarAlt, {\n                      className: \"text-gray-600\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-600\",\n                      children: \"Target Date:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 239,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium text-blue-600\",\n                      children: goal.target_date ? formatDate(goal.target_date) : 'No date set'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 240,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-start items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-600\",\n                      children: \"Remaining to save:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-md font-semibold text-blue-600\",\n                      children: [\"$ \", (() => {\n                        const progress = goalProgress === null || goalProgress === void 0 ? void 0 : goalProgress.find(p => p.goal_id === goal.goal_id);\n                        return parseFloat((progress === null || progress === void 0 ? void 0 : progress.goal_remaining) || 0).toLocaleString();\n                      })()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(ProgressBar, {\n                goal: goal\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 29\n            }, this), editingGoalId === goal.goal_id && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white shadow-lg rounded-lg overflow-hidden mb-4 sm:mb-6 lg:mb-8\",\n              children: /*#__PURE__*/_jsxDEV(EditGoals, {\n                goal: goal,\n                onSave: handleGoalUpdated,\n                onCancel: handleCancelEdit\n              }, `edit-${goal.goal_id}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 33\n            }, this)]\n          }, goal.goal_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 25\n          }, this)) : !isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white shadow-lg rounded-lg overflow-hidden mb-4 sm:mb-6 lg:mb-8\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-4 sm:px-6 py-8 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500 text-lg\",\n                children: \"No goals found. Create your first goal to get started!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 21\n          }, this) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n_s(Goals, \"jore+qfUmFmesnUs0Un4XV3vK5M=\");\n_c = Goals;\nexport default Goals;\nvar _c;\n$RefreshReg$(_c, \"Goals\");","map":{"version":3,"names":["axios","useState","FaPlus","FaTimes","FaBullseye","FaCalendarAlt","FaEdit","FaTrash","GiMoneyStack","EditGoals","AddGoal","jsxDEV","_jsxDEV","Goals","goals","goalProgress","isLoading","dashboardData","onGoalUpdate","_s","totalSavings","totalGoals","length","showAddForm","setShowAddForm","error","setError","successMessage","setSuccessMessage","loading","setLoading","editingGoalId","setEditingGoalId","formatCurrency","amount","Intl","NumberFormat","style","currency","format","formatDate","dateString","Date","toLocaleDateString","year","month","day","ProgressBar","goal","progress","find","p","goal_id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","width","percentage","goal_saving","toLocaleString","handleEditGoal","goalId","handleCancelEdit","handleGoalUpdated","apiBaseUrl","process","env","REACT_APP_API_URL","handleDeleteGoal","response","delete","withCredentials","status","setTimeout","data","_error$response","_error$response$data","console","onClick","onSave","onClose","map","completed","description","parseFloat","goal_amount","target_date","goal_remaining","onCancel","_c","$RefreshReg$"],"sources":["/Users/shufengoh/Desktop/MAC 2025/COMP693 Individual Project/COMP693_25S2_project_Shu_Fen_Goh_1162340/frontend/src/components/Goals.jsx"],"sourcesContent":["// similar to dashboard but with added functionality to add, delete, update goals\n//  separate jsx add and edit goals\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { FaPlus, FaTimes, FaBullseye, FaCalendarAlt, FaEdit, FaTrash } from 'react-icons/fa';\nimport { GiMoneyStack } from \"react-icons/gi\";\nimport EditGoals from './EditGoals';\nimport AddGoal from './AddGoal';\n\n\nfunction Goals({ goals, goalProgress, isLoading, dashboardData, onGoalUpdate }) {\n    const totalSavings = 0 \n    const totalGoals = goals?.length || 0\n    const [showAddForm, setShowAddForm] =useState(false)\n    const [error, setError] = useState (null)\n    const[successMessage, setSuccessMessage] = useState (null)\n    const [loading, setLoading] = useState(true);\n    const [editingGoalId, setEditingGoalId] = useState(null);\n\n   \n\n     // format currency of amount from backend\n     const formatCurrency =(amount) => {\n        return new Intl.NumberFormat ('en-NZ', {\n            style: 'currency',\n            currency: 'NZD'\n        }).format (amount || 0)\n    }\n    // formate date from SQL to frontend format\n        const formatDate = (dateString) => {\n        return new Date(dateString).toLocaleDateString('en-US', {\n            year: 'numeric',\n            month: 'short',\n            day: 'numeric'\n        });\n    };\n    \n    // Progress bar component for individual goals\n    const ProgressBar = ({ goal }) => {\n        // progress data for specific goal based on goal_id\n        const progress = goalProgress?.find(p => p.goal_id === goal.goal_id);\n        if (!progress) {\n            return (\n                <div className=\"px-4 sm:px-6 py-4\">\n                    <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                        <div className=\"bg-gray-300 h-2 rounded-full\"></div>\n                    </div>\n                </div>\n            );\n        }\n        //  if there is a progress %, show the color etc\n        return (\n            <div className=\"px-4 sm:px-6 py-4\">\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                    <div \n                        className=\"bg-gradient-to-r from-blue-500 to-indigo-600 h-2 rounded-full transition-all duration-300\" \n                        style={{width: `${progress.percentage || 0}%`}}\n                    ></div>\n                </div>\n                <div className=\"flex items-center justify-between text-sm text-gray-500 mt-2\">\n                    <div className=\"flex items-center space-x-1\">\n                        <GiMoneyStack className=\"text-green-600\" />\n                        <span>${(progress.goal_saving || 0).toLocaleString()} saved</span>\n                    </div>\n                    <span className=\"text-green-600 font-medium\">{progress.percentage || 0}%</span>\n                </div>\n            </div>\n        );\n    };\n\n    const handleEditGoal = (goalId) => {\n        setEditingGoalId(goalId);\n    };\n\n    const handleCancelEdit = () => {\n        setEditingGoalId(null);\n    };\n\n    const handleGoalUpdated = () => {\n        setEditingGoalId(null);\n        if (onGoalUpdate) {\n            onGoalUpdate();\n        }\n    };\n\n\n\nconst apiBaseUrl = process.env.REACT_APP_API_URL;\n// delete goal \nconst handleDeleteGoal = async (goalId) => {\n    try {\n        setError(null);\n        const response = await axios.delete(`${apiBaseUrl}/goals/delete/${goalId}`, \n            {withCredentials: true});\n        \n        if (response.status === 200) {\n            setSuccessMessage('Goal deleted successfully');\n            setTimeout(() => {\n                setSuccessMessage(null);\n            }, 5000);\n            onGoalUpdate();\n        } else {\n            setError(response.data.error || 'Failed to delete goal');\n            setTimeout(() => {\n                setError(null);\n            }, 5000);\n        }\n    } catch (error) {\n        console.error('Error deleting goal:', error);\n        setError(error.response?.data?.error || 'Failed to delete goal');\n        setTimeout(() => {\n            setError(null);\n        }, 5000);\n    }\n}\n\n\n\n// main return render section\nreturn(\n    <div className=\"min-h-screen bg-gray-50 py-4 sm:py-6 lg:py-8 px-3 sm:px-4 lg:px-6 xl:px-8\">\n    <div className=\"max-w-5xl mx-auto\">\n        {/* Header */}\n        <div className=\"bg-white shadow-lg rounded-lg overflow-hidden mb-4 sm:mb-6 lg:mb-8\">\n            <div className=\"bg-gradient-to-r from-lime-900 to-lime-700 px-4 sm:px-6 py-4 sm:py-6\">\n                <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0\">\n                    <div>\n                        <h2 className=\"text-xl sm:text-2xl lg:text-3xl font-bold text-white\">Goals</h2>\n                        <p className=\"text-blue-100 mt-1 text-sm sm:text-base\">Manage your financial goals</p>\n                    </div>\n                    <div className=\"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3\">\n                        <div className=\"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3\">\n                                <button \n                                    onClick={() => setShowAddForm(!showAddForm)}\n                                    className=\"inline-flex items-center justify-center px-3 sm:px-4 py-2 border border-transparent text-sm \n                                    font-medium rounded-md text-blue-600 bg-white hover:bg-blue-500 hover:text-white transition-colors duration-200\"\n                                >\n                                    {showAddForm ? <FaTimes className=\"mr-2\" /> : <FaPlus className=\"mr-2\" />}\n                                    {showAddForm ? 'Cancel' : 'Add Goal'}\n                                </button>\n                        </div>\n                    </div>\n                </div>\n            </div>  \n        </div>\n    {/* End of header */}\n    {/* show add goal form :similar to fixed expense format */}\n    {showAddForm && (\n            <AddGoal onSave={() => {setShowAddForm(false);\n                               setError(null);\n                               if (onGoalUpdate) {\n                                   onGoalUpdate();\n                               }\n                           }} \n                           onClose={() => setShowAddForm(false)} \n                       />\n                   )}\n\n    {/* success and error message section */}\n    {successMessage && (\n        <div className=\"mb-4 sm:mb-6 bg-green-50 border border-green-200 rounded-md p-3 sm:p-4\">\n            <p className=\"text-sm font-medium text-green-800\">{successMessage}</p>\n        </div>\n    )}\n\n    {/* Error Message */}\n    {error && (\n        <div className=\"mb-4 sm:mb-6 bg-red-50 border border-red-200 rounded-md p-3 sm:p-4\">\n            <p className=\"text-sm font-medium text-red-800\">{error}</p>\n        </div>\n    )}\n\n    {/* Loading Spinner */}\n    {/* instead of showing no goals while it is loading, show loading spinner for better UX */}\n    {isLoading || !dashboardData ? (\n        <div className=\"flex items-center justify-center py-12\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n            <span className=\"ml-3 text-gray-600\">Loading goals...</span>\n        </div>\n    ) : (\n        /* show list of goals */\n        <div className=\"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0\">\n            <div className=\"flex-1 space-y-3\">\n                {!isLoading && goals && goals.length > 0 ? (\n                    goals.map((goal) => (\n                        <div key={goal.goal_id}>\n                            <div className=\"bg-white shadow-lg rounded-lg overflow-hidden mb-4 sm:mb-6 lg:mb-8\">\n                                <div className=\"px-4 sm:px-6 py-4 border-b border-gray-200\">\n                                    <div className=\"flex items-center justify-between\">\n                                        <div className=\"flex items-center space-x-2\">\n                                            <h4 className={`text-lg font-semibold ${\n                                                (() => {\n                                                    const progress = goalProgress?.find(p => p.goal_id === goal.goal_id);\n                                                    return progress?.completed ? 'text-gray-500 line-through' : 'text-gray-900';\n                                                })()\n                                            }`}>\n                                                {goal.description}\n                                            </h4>\n                                            {(() => {\n                                                const progress = goalProgress?.find(p => p.goal_id === goal.goal_id);\n                                                return progress?.completed && (\n                                                    <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                                                        âœ“ Completed\n                                                    </span>\n                                                );\n                                            })()}\n                                        </div>\n                                        {(() => {\n                                            const progress = goalProgress?.find(p => p.goal_id === goal.goal_id);\n                                            return !progress?.completed && (\n                                                <div>\n                                                    <button\n                                                        onClick={() => handleEditGoal(goal.goal_id)}\n                                                        className=\"inline-flex items-center mr-2 px-3 py-1 rounded-md border border-gray-300\n                                                        text-sm font-medium text-blue-600 bg-white hover:bg-gray-200 \">\n                                                        <FaEdit className=\"mr-1\" />\n                                                        Edit\n                                                    </button>\n                                                    <button\n                                                        onClick={() => handleDeleteGoal(goal.goal_id)}\n                                                        className=\"inline-flex items-center px-3 py-1 rounded-md border border-gray-300\n                                                        text-sm font-medium text-red-600 bg-white hover:bg-gray-50 \">\n                                                        <FaTrash className=\"mr-1\" />\n                                                        Delete\n                                                    </button>\n                                                </div>\n                                            );\n                                        })()}\n                                    </div>\n                                    <div className=\"grid grid-cols-1 sm:grid-cols-2 \">\n                                      <div className=\"flex items-center space-x-2\">\n                                            <FaBullseye className=\"text-red-600\" />\n                                            <span className=\"text-sm text-gray-600\">Target:</span>\n                                            <span className=\"text-lg font-bold text-green-600\">${parseFloat(goal.goal_amount || 0).toLocaleString()}</span>\n                                        </div>\n                                        \n                                        <div className=\"flex justify-end items-center space-x-2\">\n                                            <FaCalendarAlt className=\"text-gray-600\" />\n                                            <span className=\"text-sm text-gray-600\">Target Date:</span>\n                                            <span className=\"text-sm font-medium text-blue-600\">\n                                                {goal.target_date ? formatDate(goal.target_date) : 'No date set'}\n                                            </span>\n                                        </div >\n                                        {/* remaining amount to save */}\n                                        <div className=\"flex justify-start items-center space-x-2\">\n                                            <span className=\"text-sm text-gray-600\">Remaining to save:</span>\n                                            <span className=\"text-md font-semibold text-blue-600\">$ {(() => {\n                                                const progress = goalProgress?.find(p => p.goal_id === goal.goal_id);\n                                                return parseFloat(progress?.goal_remaining  || 0).toLocaleString();\n                                            })()}</span>\n                                         </div>\n                                     </div>\n                                </div>\n                                <ProgressBar goal={goal} />\n                            </div>\n                            \n                            {/* Show edit form for goals */}\n                            {editingGoalId === goal.goal_id && (\n                                <div className=\"bg-white shadow-lg rounded-lg overflow-hidden mb-4 sm:mb-6 lg:mb-8\">\n                                    <EditGoals \n                                        key={`edit-${goal.goal_id}`}\n                                        goal={goal}\n                                        onSave={handleGoalUpdated}\n                                        onCancel={handleCancelEdit}\n                                    />\n                                </div>\n                            )}\n                        </div>\n                    ))\n                ) : !isLoading ? (\n                    <div className=\"bg-white shadow-lg rounded-lg overflow-hidden mb-4 sm:mb-6 lg:mb-8\">\n                        <div className=\"px-4 sm:px-6 py-8 text-center\">\n                            <p className=\"text-gray-500 text-lg\">No goals found. Create your first goal to get started!</p>\n                        </div>\n                    </div>\n                ) : null}\n                 \n            </div>\n        </div> \n    )}\n\n    \n   \n{/* main container closing tag */}\n    </div>\n    </div>\n)\n\n} export default Goals;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}