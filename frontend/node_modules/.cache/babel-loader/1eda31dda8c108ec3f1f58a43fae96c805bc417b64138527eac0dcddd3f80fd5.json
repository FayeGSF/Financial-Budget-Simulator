{"ast":null,"code":"var _jsxFileName = \"/Users/shufengoh/Desktop/MAC 2025/COMP693 Individual Project/COMP693_25S2_project_Shu_Fen_Goh_1162340/frontend/src/components/Whatif.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from 'react';\nimport WhatifSliders from \"./WhatifSliders\";\nimport WhatIfChart from \"./WhatifChart\";\nimport axios from 'axios';\nimport { GiPayMoney, GiReceiveMoney } from \"react-icons/gi\";\nimport { TbPigMoney, TbReload } from \"react-icons/tb\";\nimport { FaTimes, FaRegListAlt } from 'react-icons/fa';\nimport SaveScenario from './SaveScenario';\nimport ScenarioList from './ScenarioList';\nimport AddWhatifCategory from './AddWhatifCat';\nimport WhatifHelpFloating from './WhatifHelpFloating';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Whatif({\n  amountLeft\n}) {\n  _s();\n  const apiBaseUrl = process.env.REACT_APP_API_URL;\n\n  // states - categories, adjustments, savings, loading, error\n  const [categories, setCategories] = useState([]);\n  const [adjustments, setAdjustments] = useState({});\n  const [savings, setSavings] = useState({\n    total_monthly_savings: 0,\n    category_breakdown: []\n  });\n  const [hypotheticalAmount, setHypotheticalAmount] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [errorType, setErrorType] = useState(null); // Track error type: 'profile' or 'expenses'\n  const [availableMonths, setAvailableMonths] = useState([]);\n  const [selectedMonth, setSelectedMonth] = useState('');\n  const [refreshScenarios, setRefreshScenarios] = useState(0);\n  const [showAddWhatifCategory, setShowAddWhatifCategory] = useState(false);\n  const navigate = useNavigate();\n\n  // Function to go to profile section (same as Header.jsx)\n  const goToProfileSection = sectionId => {\n    navigate('/profile');\n    setTimeout(() => {\n      const element = document.getElementById(sectionId);\n      if (element) {\n        element.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start'\n        });\n      }\n    }, 100);\n  };\n\n  // Fetch available months when component mounts\n  useEffect(() => {\n    fetchAvailableMonths();\n  }, [selectedMonth]);\n\n  // Fetch categories when selectedMonth changes\n  useEffect(() => {\n    if (selectedMonth) {\n      fetchExpenseCategory();\n    }\n  }, [selectedMonth]);\n\n  // filtering for months\n  const fetchAvailableMonths = async () => {\n    try {\n      setIsLoading(true);\n      setError(null);\n      const response = await axios.get(`${apiBaseUrl}/whatif/available_months`, {\n        withCredentials: true\n      });\n      setAvailableMonths(response.data.available_months);\n      // selects latest month as default\n      if (response.data.available_months.length === 0) {\n        // Set current month as default for new users\n        const currentDate = new Date();\n        const currentMonth = currentDate.toLocaleDateString('en-US', {\n          month: 'long',\n          year: 'numeric'\n        });\n        setSelectedMonth(currentMonth);\n      } else if (!selectedMonth) {\n        setSelectedMonth(response.data.available_months[0]);\n      }\n    } catch (error) {\n      var _error$response;\n      const errorData = (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data;\n      if (errorData !== null && errorData !== void 0 && errorData.error_profile) {\n        setError(errorData.error_profile);\n      } else if (errorData !== null && errorData !== void 0 && errorData.error_expenses) {\n        setError(errorData.error_expenses);\n      } else {\n        setError((errorData === null || errorData === void 0 ? void 0 : errorData.error) || 'Failed to fetch available months');\n      }\n      console.error('Error fetching months:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // fetch expense category for display of current data onto sliders\n  const fetchExpenseCategory = async () => {\n    try {\n      setIsLoading(true);\n      setError(null);\n      const response = await axios.get(`${apiBaseUrl}/whatif/expense_categories/${selectedMonth}`, {\n        withCredentials: true\n      });\n      console.log('Categories response:', response.data);\n      if (response.data.categories) {\n        setCategories(response.data.categories);\n        const initialAdjustments = {};\n        response.data.categories.forEach(cat => {\n          initialAdjustments[cat.category_id] = cat.original_amount;\n        });\n        setAdjustments(initialAdjustments);\n      }\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Failed to fetch expense categories');\n      console.error('Error fetching categories:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleMonthChange = e => {\n    const newMonth = e.target.value;\n    setSelectedMonth(newMonth);\n\n    // when changing from months(eg. Jul to May), \n    // need to reset savings and adjustments for new month\n    setSavings({\n      total_monthly_savings: 0,\n      category_breakdown: []\n    });\n    setAdjustments({});\n\n    // Clear any pending changes\n    pendingChangesRef.current = {};\n\n    // Clear any active timer\n    if (timerRef.current) {\n      clearTimeout(timerRef.current);\n    }\n  };\n\n  //UseRef so the page doesnt render with each slider being moved.\n  // for a better UI, lesser API calls \n  const timerRef = useRef(null);\n  const pendingChangesRef = useRef({});\n  // added useRef with a timer function so it will only have 1API call at the end of the timer\n  // prevents lag, slow loading, multiple API calls and infinite renderings\n  const handleSliderChange = async (categoryId, newAmount) => {\n    // Update UI immediately for responsiveness\n    const newAdjustments = {\n      ...adjustments,\n      [categoryId]: newAmount\n    };\n    setAdjustments(newAdjustments);\n    // Store the adjustsment made within the set time and send it as a batch for API call \n    pendingChangesRef.current[categoryId] = newAmount;\n    // if there is a slider change, timer resets\n    // Clear previous timer and set new one\n    clearTimeout(timerRef.current);\n    timerRef.current = setTimeout(async () => {\n      try {\n        // keep a record of all pending changes of sliders\n        const allAdjustments = {\n          ...adjustments,\n          ...pendingChangesRef.current\n        };\n        const response = await axios.post(`${apiBaseUrl}/whatif/adjust_preview`, {\n          month: selectedMonth,\n          adjustments: allAdjustments\n        }, {\n          withCredentials: true\n        });\n        console.log('from backend:', response.data);\n        console.log('category breakdown:', response.data.category_breakdown);\n        setSavings({\n          total_monthly_savings: response.data.total_monthly_savings,\n          category_breakdown: response.data.category_breakdown\n        });\n        setHypotheticalAmount(response.data.hypothetical_remaining_amount);\n        // Clear pending changes after successful API call\n        pendingChangesRef.current = {};\n      } catch (error) {\n        var _error$response3, _error$response3$data;\n        setError(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || 'Failed to calculate savings');\n        console.error('Error calculating savings:', error);\n      }\n    }, 500); // 500ms timer delay. send API call only after the timer goes out.\n  };\n\n  // handle reload of whole page\n  const handleReload = () => {\n    window.location.reload();\n  };\n\n  // Function to trigger scenario list refresh\n  // This increments the refreshTrigger state, which causes ScenarioList to re-fetch scenarios\n  const handleScenarioSaved = () => {\n    setRefreshScenarios(prev => prev + 1);\n  };\n\n  // Function to handle when a new hypothetical category is added\n  const handleHypotheticalCategoryAdded = () => {\n    // Refresh categories to include the new hypothetical category\n    if (selectedMonth) {\n      fetchExpenseCategory();\n    }\n    setShowAddWhatifCategory(false);\n  };\n\n  // Function to handle deletion of hypothetical categories\n  const handleDeleteHypotheticalCategory = async categoryId => {\n    try {\n      await axios.delete(`${apiBaseUrl}/whatif/delete_hypothetical_category`, {\n        data: {\n          category_id: categoryId\n        },\n        withCredentials: true\n      });\n\n      // Remove the category from UI so it doesnt appear immediately.\n      setCategories(prevCategories => prevCategories.filter(cat => cat.category_id !== categoryId));\n\n      // Resets the adjustments back to its original without the deleted hypothetical_cat\n      setAdjustments(prevAdjustments => {\n        const newAdjustments = {\n          ...prevAdjustments\n        };\n        delete newAdjustments[categoryId];\n        return newAdjustments;\n      });\n      // Refresh the expense categories to get updated data\n      if (selectedMonth) {\n        fetchExpenseCategory();\n      }\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      setError(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error) || 'Failed to delete hypothetical category');\n      console.error('Error deleting hypothetical category:', error);\n    }\n  };\n  // for save scenario section\n  const [showSaveScenario, setShowSaveScenario] = useState(false);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 py-4 sm:py-6 lg:py-8 px-3 sm:px-4 lg:px-6 xl:px-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-lg rounded-lg overflow-hidden mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-lime-900 to-lime-700 px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-bold text-white\",\n                children: \"Scenario Playground \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-blue-100 mt-1\",\n                children: \"Create your scenario, plan ahead and reach your goals\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleReload,\n                className: \"inline flex ml-auto w-24 sm:w-auto p-2 bg-blue-600 text-white text-md font-semibold rounded-md hover:bg-blue-500\",\n                children: [/*#__PURE__*/_jsxDEV(TbReload, {\n                  className: \"mr-2 self-center font-medium text-lg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 37\n                }, this), \"Reload\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 border border-red-200 rounded-md p-4 mb-6  sm:px-4 lg:px-6 xl:px-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-medium text-red-800 mb-3\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => goToProfileSection('income-section'),\n            className: \"px-3 py-1 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors\",\n            children: \"Add Income\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => goToProfileSection('fixed-expenses-section'),\n            className: \"px-3 py-1 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors\",\n            children: \"Add Fixed Expenses\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(WhatifHelpFloating, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(WhatifSliders, {\n            categories: categories,\n            selectedMonth: selectedMonth,\n            availableMonths: availableMonths,\n            adjustments: adjustments,\n            savings: savings,\n            isLoading: isLoading,\n            error: error,\n            amountLeft: amountLeft,\n            onMonthChange: handleMonthChange,\n            onSliderChange: handleSliderChange,\n            onSaveClick: () => setShowSaveScenario(true),\n            onAddCategoryClick: () => setShowAddWhatifCategory(true),\n            onDeleteCategory: handleDeleteHypotheticalCategory\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1 bg-white shadow-xl rounded-xl overflow-hidden flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-lime-900 to-lime-700 px-4 py-3 flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-1.5 bg-white/20 rounded-lg\",\n                children: /*#__PURE__*/_jsxDEV(TbPigMoney, {\n                  className: \"text-white text-lg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-bold text-white\",\n                  children: \"Scenario Summary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-emerald-100 text-xs\",\n                  children: [\"Analysis for \", selectedMonth]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 overflow-y-auto flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: savings.total_monthly_savings > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-green-50 border border-green-200 rounded-lg p-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-1.5 bg-green-100 rounded-full\",\n                    children: /*#__PURE__*/_jsxDEV(GiReceiveMoney, {\n                      className: \"text-green-600 text-lg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-green-800 font-semibold text-base\",\n                      children: [\"Save $\", Number(savings.total_monthly_savings).toFixed(2), \"!\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-green-600 text-xs\",\n                      children: \"Great job! Your adjustments help reach goals faster.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 37\n              }, this) : savings.total_monthly_savings < 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-red-50 border border-red-200 rounded-lg p-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-1.5 bg-red-100 rounded-full\",\n                    children: /*#__PURE__*/_jsxDEV(GiPayMoney, {\n                      className: \"text-red-600 text-lg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-red-800 font-semibold text-base\",\n                      children: [\"Additional: $\", Math.abs(savings.total_monthly_savings).toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 346,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-red-600 text-xs\",\n                      children: \"Consider adjusting expenses to stay within budget.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 349,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 37\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 border border-gray-200 rounded-lg p-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-1.5 bg-gray-200 rounded-full\",\n                    children: /*#__PURE__*/_jsxDEV(TbPigMoney, {\n                      className: \"text-gray-500 text-lg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-600 font-semibold text-base\",\n                      children: \"No changes to spending\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 362,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-500 text-xs\",\n                      children: \"Adjust sliders to see financial impact.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-blue-50 border border-blue-200 rounded-lg p-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-gray-700 font-semibold mb-2 text-xs uppercase tracking-wide\",\n                  children: \"Amount remaining:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 37\n                }, this), savings.category_breakdown.length > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-blue-600\",\n                  children: [\"$\", parseFloat(hypotheticalAmount).toFixed(2), \" remaining for the month.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"Adjust sliders to view amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-gray-700 font-semibold mb-2 text-xs uppercase tracking-wide\",\n                children: \"Category Breakdown\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-1\",\n                children: [savings.category_breakdown.filter(category => category.savings !== 0).map((category, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between p-2 bg-gray-50 rounded-lg\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-700 font-medium text-sm\",\n                    children: category.category_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 396,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `font-semibold text-sm ${category.savings > 0 ? 'text-green-600' : 'text-red-600'}`,\n                    children: [category.savings > 0 ? '+' : '', \" $\", Number(category.savings).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 49\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 45\n                }, this)), savings.category_breakdown.filter(category => category.savings !== 0).length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center py-3 text-gray-500\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm\",\n                    children: \"No adjustments made yet. Use sliders to see impact!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 404,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(WhatIfChart, {\n          categories: categories,\n          selectedMonth: selectedMonth,\n          savings: savings,\n          adjustments: adjustments,\n          isLoading: isLoading,\n          error: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(ScenarioList, {\n          refreshTrigger: refreshScenarios\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 17\n      }, this), showSaveScenario && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg p-6 max-w-md w-full mx-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSaveScenario(false),\n            className: \"  block ml-auto w-24 sm:w-auto p-2 bg-gray-500 text-white  rounded-md hover:bg-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(SaveScenario, {\n            category_breakdown: savings.category_breakdown,\n            total_monthly_savings: savings.total_monthly_savings,\n            selectedMonth: selectedMonth,\n            onClose: () => setShowSaveScenario(false),\n            onScenarioSaved: handleScenarioSaved\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 21\n      }, this), showAddWhatifCategory && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg p-6 max-w-md w-full mx-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowAddWhatifCategory(false),\n            className: \"block ml-auto w-24 sm:w-auto p-2 bg-gray-500 text-white  rounded-md hover:bg-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(AddWhatifCategory, {\n            onSave: handleHypotheticalCategoryAdded,\n            onClose: () => setShowAddWhatifCategory(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 9\n  }, this);\n}\n_s(Whatif, \"WBR05zQf9EWIlfoUutVQx2MpaO8=\", false, function () {\n  return [useNavigate];\n});\n_c = Whatif;\nvar _c;\n$RefreshReg$(_c, \"Whatif\");","map":{"version":3,"names":["useEffect","useState","useRef","WhatifSliders","WhatIfChart","axios","GiPayMoney","GiReceiveMoney","TbPigMoney","TbReload","FaTimes","FaRegListAlt","SaveScenario","ScenarioList","AddWhatifCategory","WhatifHelpFloating","useNavigate","jsxDEV","_jsxDEV","Whatif","amountLeft","_s","apiBaseUrl","process","env","REACT_APP_API_URL","categories","setCategories","adjustments","setAdjustments","savings","setSavings","total_monthly_savings","category_breakdown","hypotheticalAmount","setHypotheticalAmount","isLoading","setIsLoading","error","setError","errorType","setErrorType","availableMonths","setAvailableMonths","selectedMonth","setSelectedMonth","refreshScenarios","setRefreshScenarios","showAddWhatifCategory","setShowAddWhatifCategory","navigate","goToProfileSection","sectionId","setTimeout","element","document","getElementById","scrollIntoView","behavior","block","fetchAvailableMonths","fetchExpenseCategory","response","get","withCredentials","data","available_months","length","currentDate","Date","currentMonth","toLocaleDateString","month","year","_error$response","errorData","error_profile","error_expenses","console","log","initialAdjustments","forEach","cat","category_id","original_amount","_error$response2","_error$response2$data","handleMonthChange","e","newMonth","target","value","pendingChangesRef","current","timerRef","clearTimeout","handleSliderChange","categoryId","newAmount","newAdjustments","allAdjustments","post","hypothetical_remaining_amount","_error$response3","_error$response3$data","handleReload","window","location","reload","handleScenarioSaved","prev","handleHypotheticalCategoryAdded","handleDeleteHypotheticalCategory","delete","prevCategories","filter","prevAdjustments","_error$response4","_error$response4$data","showSaveScenario","setShowSaveScenario","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onMonthChange","onSliderChange","onSaveClick","onAddCategoryClick","onDeleteCategory","Number","toFixed","Math","abs","parseFloat","category","map","index","category_name","refreshTrigger","onClose","onScenarioSaved","onSave","_c","$RefreshReg$"],"sources":["/Users/shufengoh/Desktop/MAC 2025/COMP693 Individual Project/COMP693_25S2_project_Shu_Fen_Goh_1162340/frontend/src/components/Whatif.jsx"],"sourcesContent":["import { useEffect, useState, useRef } from 'react';\nimport WhatifSliders from \"./WhatifSliders\";\nimport WhatIfChart from \"./WhatifChart\";\nimport axios from 'axios'; \nimport { GiPayMoney, GiReceiveMoney } from \"react-icons/gi\";\nimport { TbPigMoney, TbReload  } from \"react-icons/tb\";\nimport { FaTimes, FaRegListAlt} from 'react-icons/fa';\nimport SaveScenario from './SaveScenario';\nimport ScenarioList from './ScenarioList';\nimport AddWhatifCategory from './AddWhatifCat';\nimport WhatifHelpFloating from './WhatifHelpFloating';\nimport { useNavigate } from 'react-router-dom';\n\n\nexport default function Whatif({ amountLeft }) {\n    const apiBaseUrl = process.env.REACT_APP_API_URL;\n    \n    // states - categories, adjustments, savings, loading, error\n    const [categories, setCategories] = useState([]);\n    const [adjustments, setAdjustments] = useState({});\n    const [savings, setSavings] = useState({\n        total_monthly_savings: 0,\n        category_breakdown: []\n    });\n    const [hypotheticalAmount, setHypotheticalAmount] = useState (0)\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [errorType, setErrorType] = useState(null); // Track error type: 'profile' or 'expenses'\n    const [availableMonths, setAvailableMonths] = useState([]);\n    const [selectedMonth, setSelectedMonth] = useState('');\n    const [refreshScenarios, setRefreshScenarios] = useState(0);\n    const [showAddWhatifCategory, setShowAddWhatifCategory] = useState(false);\n    \n    const navigate = useNavigate();\n    \n    // Function to go to profile section (same as Header.jsx)\n    const goToProfileSection = (sectionId) => {\n        navigate('/profile');\n        setTimeout(() => {\n            const element = document.getElementById(sectionId);\n            if (element) {\n                element.scrollIntoView({ behavior: 'smooth', block: 'start' });\n            }\n        }, 100);\n    };\n\n    // Fetch available months when component mounts\n    useEffect(() => {\n        fetchAvailableMonths();\n    }, [selectedMonth]);\n\n    \n   // Fetch categories when selectedMonth changes\n    useEffect(() => {\n        if (selectedMonth) {\n            fetchExpenseCategory();\n        }\n    }, [selectedMonth]);\n\n    // filtering for months\n    const fetchAvailableMonths = async () => {\n        try {\n            setIsLoading(true);\n            setError(null);\n            const response = await axios.get(`${apiBaseUrl}/whatif/available_months`, {\n                withCredentials: true\n            });\n            setAvailableMonths(response.data.available_months);\n            // selects latest month as default\n            if (response.data.available_months.length === 0) {\n                // Set current month as default for new users\n                const currentDate = new Date();\n                const currentMonth = currentDate.toLocaleDateString('en-US', { \n                    month: 'long', \n                    year: 'numeric' \n                });\n                setSelectedMonth(currentMonth);\n            } else if (!selectedMonth) {\n                setSelectedMonth(response.data.available_months[0]);\n            }\n        } catch (error) {\n            const errorData = error.response?.data;\n            if (errorData?.error_profile) {\n                setError(errorData.error_profile);\n            } else if (errorData?.error_expenses) {\n                setError(errorData.error_expenses);\n            } else {\n                setError(errorData?.error || 'Failed to fetch available months');\n            }\n            console.error('Error fetching months:', error);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    // fetch expense category for display of current data onto sliders\n    const fetchExpenseCategory = async () => {\n        try {\n            setIsLoading(true);\n            setError(null);\n            \n            const response = await axios.get(`${apiBaseUrl}/whatif/expense_categories/${selectedMonth}`, {\n                withCredentials: true\n            });\n            \n            console.log('Categories response:', response.data);\n            if (response.data.categories) {\n                setCategories(response.data.categories);\n                \n                const initialAdjustments = {};\n                response.data.categories.forEach(cat => {\n                    initialAdjustments[cat.category_id] = cat.original_amount;\n                });\n                setAdjustments(initialAdjustments);\n            }\n        } catch (error) {\n            setError(error.response?.data?.error || 'Failed to fetch expense categories');\n            console.error('Error fetching categories:', error);\n        } finally {\n            setIsLoading(false);\n        }\n    }\n\n    const handleMonthChange = (e) => {\n        const newMonth = e.target.value;\n        setSelectedMonth(newMonth);\n        \n        // when changing from months(eg. Jul to May), \n        // need to reset savings and adjustments for new month\n        setSavings({\n            total_monthly_savings: 0,\n            category_breakdown: []\n        });\n        setAdjustments({});\n        \n        // Clear any pending changes\n        pendingChangesRef.current = {};\n        \n        // Clear any active timer\n        if (timerRef.current) {\n            clearTimeout(timerRef.current);\n        }\n    };\n\n    //UseRef so the page doesnt render with each slider being moved.\n    // for a better UI, lesser API calls \n    const timerRef = useRef(null);\n    const pendingChangesRef = useRef({});\n    // added useRef with a timer function so it will only have 1API call at the end of the timer\n    // prevents lag, slow loading, multiple API calls and infinite renderings\n    const handleSliderChange = async (categoryId, newAmount) => {\n        // Update UI immediately for responsiveness\n        const newAdjustments = { ...adjustments, [categoryId]: newAmount };\n        setAdjustments(newAdjustments);\n        // Store the adjustsment made within the set time and send it as a batch for API call \n        pendingChangesRef.current[categoryId] = newAmount;\n        // if there is a slider change, timer resets\n        // Clear previous timer and set new one\n        clearTimeout(timerRef.current);\n        timerRef.current = setTimeout(async () => {\n            try {\n                // keep a record of all pending changes of sliders\n                const allAdjustments = { ...adjustments, ...pendingChangesRef.current };\n                \n                const response = await axios.post(`${apiBaseUrl}/whatif/adjust_preview`, {\n                    month: selectedMonth,\n                    adjustments: allAdjustments\n                }, { withCredentials: true });\n                \n                console.log('from backend:', response.data);\n                console.log('category breakdown:', response.data.category_breakdown);\n                \n                setSavings({\n                    total_monthly_savings: response.data.total_monthly_savings,\n                    category_breakdown: response.data.category_breakdown\n                });\n                setHypotheticalAmount ( response.data.hypothetical_remaining_amount)\n                // Clear pending changes after successful API call\n                pendingChangesRef.current = {};\n            } catch (error) {\n                setError(error.response?.data?.error || 'Failed to calculate savings');\n                console.error('Error calculating savings:', error);\n            }\n        }, 500); // 500ms timer delay. send API call only after the timer goes out.\n    };\n\n    // handle reload of whole page\n    const handleReload = () => {\n        window.location.reload();\n    }\n\n    // Function to trigger scenario list refresh\n    // This increments the refreshTrigger state, which causes ScenarioList to re-fetch scenarios\n    const handleScenarioSaved = () => {\n        setRefreshScenarios(prev => prev + 1);\n    };\n\n    // Function to handle when a new hypothetical category is added\n    const handleHypotheticalCategoryAdded = () => {\n        // Refresh categories to include the new hypothetical category\n        if (selectedMonth) {\n            fetchExpenseCategory();\n        }\n        setShowAddWhatifCategory(false);\n    };\n\n    // Function to handle deletion of hypothetical categories\n    const handleDeleteHypotheticalCategory = async (categoryId) => {\n        try {\n            await axios.delete(`${apiBaseUrl}/whatif/delete_hypothetical_category`, {\n                data: { category_id: categoryId },\n                withCredentials: true\n            });\n            \n            // Remove the category from UI so it doesnt appear immediately.\n            setCategories(prevCategories => \n                prevCategories.filter(cat => cat.category_id !== categoryId)\n            );\n            \n            // Resets the adjustments back to its original without the deleted hypothetical_cat\n            setAdjustments(prevAdjustments => {\n                const newAdjustments = { ...prevAdjustments };\n                delete newAdjustments[categoryId];\n                return newAdjustments;\n            });\n            // Refresh the expense categories to get updated data\n            if (selectedMonth) {\n                fetchExpenseCategory();\n            }\n        } catch (error) {\n            setError(error.response?.data?.error || 'Failed to delete hypothetical category');\n            console.error('Error deleting hypothetical category:', error);\n        }\n    };\n        // for save scenario section\n    const [showSaveScenario, setShowSaveScenario] = useState(false);\n   \n    return(\n        <div className=\"min-h-screen bg-gray-50 py-4 sm:py-6 lg:py-8 px-3 sm:px-4 lg:px-6 xl:px-8\">\n            <div className=\"max-w-6xl mx-auto\">\n                <div className=\"bg-white shadow-lg rounded-lg overflow-hidden mb-6\">\n                {/* Header */}\n                <div className=\"bg-gradient-to-r from-lime-900 to-lime-700 px-6 py-4\">\n                    <div className=\"flex items-center justify-between\">\n                        <div>\n                            <h2 className=\"text-2xl font-bold text-white\">Scenario Playground </h2>\n                            <p className=\"text-blue-100 mt-1\">Create your scenario, plan ahead and reach your goals</p>   \n                        </div>\n                        <div>\n                        <button onClick={handleReload} \n                        className =\"inline flex ml-auto w-24 sm:w-auto p-2 bg-blue-600 text-white text-md font-semibold\n                                    rounded-md hover:bg-blue-500\">\n                                    <TbReload className= \"mr-2 self-center font-medium text-lg\"/>Reload</button>\n                        </div>\n                    </div>\n                </div>\n                </div>  \n                \n                {/* Error State */}\n                {error && (\n                    <div className=\"bg-red-50 border border-red-200 rounded-md p-4 mb-6  sm:px-4 lg:px-6 xl:px-8\">\n                        <p className=\"text-sm font-medium text-red-800 mb-3\">{error}</p>\n                        <div className=\"flex flex-wrap gap-2\">\n                            <button\n                                onClick={() => goToProfileSection('income-section')}\n                                className=\"px-3 py-1 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors\"\n                            >\n                                Add Income\n                            </button>\n                            <button\n                                onClick={() => goToProfileSection('fixed-expenses-section')}\n                                className=\"px-3 py-1 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors\"\n                            >\n                                Add Fixed Expenses\n                            </button>\n                        </div>\n                    </div>\n                )}\n                \n                {/* Floating Help Button */}\n                <WhatifHelpFloating />\n                \n                {/* Sliders and Scenario Summary */}\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6\">\n                    {/* Whatif Sliders */}\n                    <div className=\"lg:col-span-2\">\n                        <WhatifSliders \n                            categories={categories}\n                            selectedMonth={selectedMonth}\n                            availableMonths={availableMonths}\n                            adjustments={adjustments}\n                            savings={savings}\n                            isLoading={isLoading}\n                            error={error}\n                            amountLeft={amountLeft}\n                            onMonthChange={handleMonthChange}\n                            onSliderChange={handleSliderChange}\n                            onSaveClick={() => setShowSaveScenario(true)}\n                            onAddCategoryClick={() => setShowAddWhatifCategory(true)}\n                            onDeleteCategory={handleDeleteHypotheticalCategory}\n                        />\n                    </div>\n                    \n                    {/* Scenario Summary */}\n                    <div className=\"lg:col-span-1 bg-white shadow-xl rounded-xl overflow-hidden flex flex-col\">\n                        {/* Summary Header */}\n                        <div className=\"bg-gradient-to-r from-lime-900 to-lime-700 px-4 py-3 flex-shrink-0\">\n                            <div className=\"flex items-center space-x-2\">\n                                <div className=\"p-1.5 bg-white/20 rounded-lg\">\n                                    <TbPigMoney className=\"text-white text-lg\" />\n                                </div>\n                                <div>\n                                    <h3 className=\"text-lg font-bold text-white\">Scenario Summary</h3>\n                                    <p className=\"text-emerald-100 text-xs\">Analysis for {selectedMonth}</p>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Summary Content */}\n                        <div className=\"p-4 overflow-y-auto flex-1\">\n                            {/* Main Result */}\n                            <div className=\"mb-4\">\n                                {savings.total_monthly_savings > 0 ? (\n                                    <div className=\"bg-green-50 border border-green-200 rounded-lg p-3\">\n                                        <div className=\"flex items-center space-x-2\">\n                                            <div className=\"p-1.5 bg-green-100 rounded-full\">\n                                                <GiReceiveMoney className=\"text-green-600 text-lg\" />\n                                            </div>\n                                            <div>\n                                                <p className=\"text-green-800 font-semibold text-base\">\n                                                Save ${Number(savings.total_monthly_savings).toFixed(2)}!\n                                                </p>\n                                                <p className=\"text-green-600 text-xs\">\n                                                Great job! Your adjustments help reach goals faster.\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ) : savings.total_monthly_savings < 0 ? (\n                                    <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\n                                        <div className=\"flex items-center space-x-2\">\n                                            <div className=\"p-1.5 bg-red-100 rounded-full\">\n                                                <GiPayMoney className=\"text-red-600 text-lg\" />\n                                            </div>\n                                            <div>\n                                                <p className=\"text-red-800 font-semibold text-base\">\n                                                Additional: ${Math.abs(savings.total_monthly_savings).toFixed(2)}\n                                                </p>\n                                                <p className=\"text-red-600 text-xs\">\n                                                Consider adjusting expenses to stay within budget.\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ) : (\n                                    <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-3\">\n                                        <div className=\"flex items-center space-x-2\">\n                                            <div className=\"p-1.5 bg-gray-200 rounded-full\">\n                                                <TbPigMoney className=\"text-gray-500 text-lg\" />\n                                            </div>\n                                            <div>\n                                                <p className=\"text-gray-600 font-semibold text-base\">\n                                                    No changes to spending\n                                                </p>\n                                                <p className=\"text-gray-500 text-xs\">\n                                                    Adjust sliders to see financial impact.\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                            \n                            {/* Amount remaining */}\n                            <div className=\"mb-4\">\n                                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-2\">\n                                    <h3 className=\"text-gray-700 font-semibold mb-2 text-xs uppercase tracking-wide\">Amount remaining:</h3>\n                                    {savings.category_breakdown.length > 0 ? (\n                                        <p className=\"text-sm text-blue-600\">${parseFloat(hypotheticalAmount).toFixed(2)} remaining for the month.</p>\n                                    ) : (\n                                        <p className=\"text-sm text-gray-500\">Adjust sliders to view amount</p>\n                                    )}\n                                </div>\n                            </div>\n                            \n                            {/* Category Breakdown */}\n                            <div>\n                                <h4 className=\"text-gray-700 font-semibold mb-2 text-xs uppercase tracking-wide\">\n                                    Category Breakdown\n                                </h4>\n                                <div className=\"space-y-1\">\n                                    {savings.category_breakdown\n                                        .filter(category => category.savings !== 0)\n                                        .map((category, index) => (\n                                            <div key={index} className=\"flex items-center justify-between p-2 bg-gray-50 rounded-lg\">\n                                                <span className=\"text-gray-700 font-medium text-sm\">{category.category_name}</span>\n                                                <span className={`font-semibold text-sm ${category.savings > 0 ? 'text-green-600': 'text-red-600'}`}>\n                                                    {category.savings > 0 ? '+' : ''} ${Number(category.savings).toFixed(2)}\n                                                </span>\n                                            </div>\n                                        ))}\n                                    {savings.category_breakdown.filter(category => category.savings !== 0).length === 0 && (\n                                        <div className=\"text-center py-3 text-gray-500\">\n                                            <p className=\"text-sm\">No adjustments made yet. Use sliders to see impact!</p>\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                \n                {/* Chart Section - Moved below sliders */}\n                <div className=\"mb-6\">\n                    <WhatIfChart \n                        categories={categories}\n                        selectedMonth={selectedMonth}\n                        savings={savings}\n                        adjustments={adjustments}\n                        isLoading={isLoading}\n                        error={error}\n                    />\n                </div>\n                \n                {/* Saved Scenarios */}\n                <div className=\"mb-6\">\n                    <ScenarioList refreshTrigger={refreshScenarios} />\n                </div>\n\n                     {/* add scenario component */}\n\n                     {showSaveScenario && (\n                    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n                        <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n                             <button \n                                onClick={() => setShowSaveScenario(false)}\n                                className=\"  block ml-auto w-24 sm:w-auto p-2 bg-gray-500 text-white \n                                rounded-md hover:bg-gray-600\"\n                            >\n                                <FaTimes />\n                            </button>\n                            <SaveScenario \n                                category_breakdown={savings.category_breakdown}\n                                total_monthly_savings={savings.total_monthly_savings}\n                                selectedMonth={selectedMonth}\n                                onClose ={ () => setShowSaveScenario(false)}\n                                onScenarioSaved={handleScenarioSaved}\n                            />\n                           \n                        </div>\n                    </div>\n                        )}\n\n                    {/* Add Category  */}\n                    {showAddWhatifCategory && (\n                        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n                            <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n                                <button \n                                    onClick={() => setShowAddWhatifCategory(false)}\n                                    className=\"block ml-auto w-24 sm:w-auto p-2 bg-gray-500 text-white \n                                    rounded-md hover:bg-gray-600\"\n                                >\n                                    <FaTimes />\n                                </button>\n                                <AddWhatifCategory \n                                    onSave={handleHypotheticalCategoryAdded}\n                                    onClose={() => setShowAddWhatifCategory(false)}\n                                />\n                            </div>\n                        </div>\n                    )}\n            </div>\n        </div>\n    )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}