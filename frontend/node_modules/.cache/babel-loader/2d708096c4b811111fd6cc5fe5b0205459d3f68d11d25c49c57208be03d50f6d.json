{"ast":null,"code":"var _jsxFileName = \"/Users/shufengoh/Desktop/MAC 2025/COMP693 Individual Project/COMP693_25S2_project_Shu_Fen_Goh_1162340/frontend/src/components/Tips.jsx\",\n  _s = $RefreshSig$();\n// only show first 3 tips\n// if user dismiss or completes it, record the tips id and show the next one. \n// require 2 states, 1 for the current state and 1 for dismissed state \n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Tips({\n  tips\n}) {\n  _s();\n  const apiBaseUrl = process.env.REACT_APP_API_URL;\n  // Index start from 0,1,2...convention\n  const [currentTipIndex, setCurrentTipIndex] = useState(0);\n  // if tip is dismissed or read, then it will go into this list\n  // const [skipTip, setSkipTip] = useState([])\n  // show 3 tips at a time \n  const visibleTips = (tips || []).slice(currentTipIndex, currentTipIndex + 3);\n\n  // handle Tip if it has been interacted, call backend to record the action \n  const handleTipAction = async (tip_id, action) => {\n    try {\n      const response = await axios.post(`${apiBaseUrl}/api/tips/interact`, {\n        tip_id: tip_id,\n        action: action\n      }, {\n        withCredentials: true\n      });\n      // if tip has been dismissed/read, set the next tip as index 0\n      setCurrentTipIndex(prev => prev + 1);\n    } catch (error) {\n      console.error('Error saving tip interaction:', error);\n    }\n  };\n  // if all the tips have been read/ dismissed \n  if (currentTipIndex >= (tips || []).length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \" text-gray-800\",\n        children: \"No more tips for today\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: visibleTips.map((tip, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border rounded-lg p-4 bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"font-semibold text-gray-800\",\n        children: tip.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 mt-2\",\n        children: tip.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this), tip.actionable_advice && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-blue-600 mt-1 italic\",\n        children: tip.actionable_advice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2 mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleTipAction(tip.tip_id, 'viewed'),\n          className: \"px-3 py-1 bg-green-500 text-white text-xs rounded hover:bg-green-600\",\n          children: \"\\u2713 Read\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleTipAction(tip.tip_id, 'dismissed'),\n          className: \"px-3 py-1 bg-gray-500 text-white text-xs rounded hover:bg-gray-600\",\n          children: \"\\u2717 Dismiss\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this)]\n    }, tip.tip_id || index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n_s(Tips, \"2SMtbbtTDIIzo0sQaykqYNB6lWc=\");\n_c = Tips;\nvar _c;\n$RefreshReg$(_c, \"Tips\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","Tips","tips","_s","apiBaseUrl","process","env","REACT_APP_API_URL","currentTipIndex","setCurrentTipIndex","visibleTips","slice","handleTipAction","tip_id","action","response","post","withCredentials","prev","error","console","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","tip","index","title","message","actionable_advice","onClick","_c","$RefreshReg$"],"sources":["/Users/shufengoh/Desktop/MAC 2025/COMP693 Individual Project/COMP693_25S2_project_Shu_Fen_Goh_1162340/frontend/src/components/Tips.jsx"],"sourcesContent":["// only show first 3 tips\n// if user dismiss or completes it, record the tips id and show the next one. \n// require 2 states, 1 for the current state and 1 for dismissed state \n\nimport React, { useState } from 'react'\nimport axios from 'axios';\nexport default function Tips ( { tips })  {\n    const apiBaseUrl = process.env.REACT_APP_API_URL;\n    // Index start from 0,1,2...convention\n    const [currentTipIndex, setCurrentTipIndex] = useState(0);\n    // if tip is dismissed or read, then it will go into this list\n    // const [skipTip, setSkipTip] = useState([])\n    // show 3 tips at a time \n    const visibleTips = (tips || []).slice (currentTipIndex, currentTipIndex +3 )\n\n    // handle Tip if it has been interacted, call backend to record the action \n    const handleTipAction = async (tip_id, action) => {\n        try{\n            const response = await axios.post(`${apiBaseUrl}/api/tips/interact`,{\n                tip_id: tip_id,\n                action: action\n            } ,{withCredentials: true})\n            // if tip has been dismissed/read, set the next tip as index 0\n            setCurrentTipIndex(prev => prev +1 )\n        } catch(error) {\n            console.error ('Error saving tip interaction:' ,error)\n        }\n    }\n    // if all the tips have been read/ dismissed \n    if (currentTipIndex >= (tips || []).length){\n        return (\n            <div className=\"text-center py-8\">\n                <p className=\" text-gray-800\">No more tips for today</p>\n            </div>\n        )\n    }\n    return (\n        <div className=\"space-y-4\">\n            {visibleTips.map((tip, index) => (\n                <div key={tip.tip_id || index} className=\"border rounded-lg p-4 bg-gray-50\">\n                    <h4 className=\"font-semibold text-gray-800\">{tip.title}</h4>\n                    <p className=\"text-sm text-gray-600 mt-2\">{tip.message}</p>\n                    {tip.actionable_advice && (\n                        <p className=\"text-xs text-blue-600 mt-1 italic\">{tip.actionable_advice}</p>\n                    )}\n                    <div className=\"flex gap-2 mt-3\">\n                        <button \n                            onClick={() => handleTipAction(tip.tip_id, 'viewed')}\n                            className=\"px-3 py-1 bg-green-500 text-white text-xs rounded hover:bg-green-600\"\n                        >\n                            ✓ Read\n                        </button>\n                        <button \n                            onClick={() => handleTipAction(tip.tip_id, 'dismissed')}\n                            className=\"px-3 py-1 bg-gray-500 text-white text-xs rounded hover:bg-gray-600\"\n                        >\n                            ✗ Dismiss\n                        </button>\n                    </div>\n                </div>\n            ))}\n        </div>\n    )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}