{"ast":null,"code":"var _jsxFileName = \"/Users/shufengoh/Desktop/MAC 2025/COMP693 Individual Project/COMP693_25S2_project_Shu_Fen_Goh_1162340/frontend/src/components/Whatif.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from 'react';\nimport WhatifSliders from \"./WhatifSliders\";\nimport WhatIfChart from \"./WhatifChart\";\nimport axios from 'axios';\nimport { GiPayMoney, GiReceiveMoney } from \"react-icons/gi\";\nimport { TbPigMoney, TbReload } from \"react-icons/tb\";\nimport { FaTimes, FaRegListAlt } from 'react-icons/fa';\nimport SaveScenario from './SaveScenario';\nimport ScenarioList from './ScenarioList';\nimport AddWhatifCategory from './AddWhatifCat';\nimport WhatifHelpFloating from './WhatifHelpFloating';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Whatif({\n  amountLeft\n}) {\n  _s();\n  const apiBaseUrl = process.env.REACT_APP_API_URL;\n\n  // states - categories, adjustments, savings, loading, error\n  const [categories, setCategories] = useState([]);\n  const [adjustments, setAdjustments] = useState({});\n  const [savings, setSavings] = useState({\n    total_monthly_savings: 0,\n    category_breakdown: []\n  });\n  const [hypotheticalAmount, setHypotheticalAmount] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [availableMonths, setAvailableMonths] = useState([]);\n  const [selectedMonth, setSelectedMonth] = useState('');\n  const [refreshScenarios, setRefreshScenarios] = useState(0);\n  const [showAddWhatifCategory, setShowAddWhatifCategory] = useState(false);\n  const Navigate = useNavigate();\n  const handleNavigation = route => {\n    handleNavigate(route);\n  };\n\n  // Fetch available months when component mounts\n  useEffect(() => {\n    fetchAvailableMonths();\n  }, [selectedMonth]);\n\n  // Fetch categories when selectedMonth changes\n  useEffect(() => {\n    if (selectedMonth) {\n      fetchExpenseCategory();\n    }\n  }, [selectedMonth]);\n\n  // filtering for months\n  const fetchAvailableMonths = async () => {\n    try {\n      setIsLoading(true);\n      setError(null);\n      const response = await axios.get(`${apiBaseUrl}/whatif/available_months`, {\n        withCredentials: true\n      });\n      setAvailableMonths(response.data.available_months);\n      // selects latest month as default\n      if (response.data.available_months.length === 0) {\n        // Set current month as default for new users\n        const currentDate = new Date();\n        const currentMonth = currentDate.toLocaleDateString('en-US', {\n          month: 'long',\n          year: 'numeric'\n        });\n        setSelectedMonth(currentMonth);\n      } else if (!selectedMonth) {\n        setSelectedMonth(response.data.available_months[0]);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to fetch available months');\n      console.error('Error fetching months:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // fetch expense category for display of current data onto sliders\n  const fetchExpenseCategory = async () => {\n    try {\n      setIsLoading(true);\n      setError(null);\n      const response = await axios.get(`${apiBaseUrl}/whatif/expense_categories/${selectedMonth}`, {\n        withCredentials: true\n      });\n      console.log('Categories response:', response.data);\n      if (response.data.categories) {\n        setCategories(response.data.categories);\n        const initialAdjustments = {};\n        response.data.categories.forEach(cat => {\n          initialAdjustments[cat.category_id] = cat.original_amount;\n        });\n        setAdjustments(initialAdjustments);\n      }\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Failed to fetch expense categories');\n      console.error('Error fetching categories:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleMonthChange = e => {\n    const newMonth = e.target.value;\n    setSelectedMonth(newMonth);\n\n    // when changing from months(eg. Jul to May), \n    // need to reset savings and adjustments for new month\n    setSavings({\n      total_monthly_savings: 0,\n      category_breakdown: []\n    });\n    setAdjustments({});\n\n    // Clear any pending changes\n    pendingChangesRef.current = {};\n\n    // Clear any active timer\n    if (timerRef.current) {\n      clearTimeout(timerRef.current);\n    }\n  };\n\n  //UseRef so the page doesnt render with each slider being moved.\n  // for a better UI, lesser API calls \n  const timerRef = useRef(null);\n  const pendingChangesRef = useRef({});\n  // added useRef with a timer function so it will only have 1API call at the end of the timer\n  // prevents lag, slow loading, multiple API calls and infinite renderings\n  const handleSliderChange = async (categoryId, newAmount) => {\n    // Update UI immediately for responsiveness\n    const newAdjustments = {\n      ...adjustments,\n      [categoryId]: newAmount\n    };\n    setAdjustments(newAdjustments);\n    // Store the adjustsment made within the set time and send it as a batch for API call \n    pendingChangesRef.current[categoryId] = newAmount;\n    // if there is a slider change, timer resets\n    // Clear previous timer and set new one\n    clearTimeout(timerRef.current);\n    timerRef.current = setTimeout(async () => {\n      try {\n        // keep a record of all pending changes of sliders\n        const allAdjustments = {\n          ...adjustments,\n          ...pendingChangesRef.current\n        };\n        const response = await axios.post(`${apiBaseUrl}/whatif/adjust_preview`, {\n          month: selectedMonth,\n          adjustments: allAdjustments\n        }, {\n          withCredentials: true\n        });\n        console.log('from backend:', response.data);\n        console.log('category breakdown:', response.data.category_breakdown);\n        setSavings({\n          total_monthly_savings: response.data.total_monthly_savings,\n          category_breakdown: response.data.category_breakdown\n        });\n        setHypotheticalAmount(response.data.hypothetical_remaining_amount);\n        // Clear pending changes after successful API call\n        pendingChangesRef.current = {};\n      } catch (error) {\n        var _error$response3, _error$response3$data;\n        setError(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.error) || 'Failed to calculate savings');\n        console.error('Error calculating savings:', error);\n      }\n    }, 500); // 500ms timer delay. send API call only after the timer goes out.\n  };\n\n  // handle reload of whole page\n  const handleReload = () => {\n    window.location.reload();\n  };\n\n  // Function to trigger scenario list refresh\n  // This increments the refreshTrigger state, which causes ScenarioList to re-fetch scenarios\n  const handleScenarioSaved = () => {\n    setRefreshScenarios(prev => prev + 1);\n  };\n\n  // Function to handle when a new hypothetical category is added\n  const handleHypotheticalCategoryAdded = () => {\n    // Refresh categories to include the new hypothetical category\n    if (selectedMonth) {\n      fetchExpenseCategory();\n    }\n    setShowAddWhatifCategory(false);\n  };\n\n  // Function to handle deletion of hypothetical categories\n  const handleDeleteHypotheticalCategory = async categoryId => {\n    try {\n      await axios.delete(`${apiBaseUrl}/whatif/delete_hypothetical_category`, {\n        data: {\n          category_id: categoryId\n        },\n        withCredentials: true\n      });\n\n      // Remove the category from UI so it doesnt appear immediately.\n      setCategories(prevCategories => prevCategories.filter(cat => cat.category_id !== categoryId));\n\n      // Resets the adjustments back to its original without the deleted hypothetical_cat\n      setAdjustments(prevAdjustments => {\n        const newAdjustments = {\n          ...prevAdjustments\n        };\n        delete newAdjustments[categoryId];\n        return newAdjustments;\n      });\n      // Refresh the expense categories to get updated data\n      if (selectedMonth) {\n        fetchExpenseCategory();\n      }\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      setError(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error) || 'Failed to delete hypothetical category');\n      console.error('Error deleting hypothetical category:', error);\n    }\n  };\n  // for save scenario section\n  const [showSaveScenario, setShowSaveScenario] = useState(false);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 py-4 sm:py-6 lg:py-8 px-3 sm:px-4 lg:px-6 xl:px-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white shadow-lg rounded-lg overflow-hidden mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-lime-900 to-lime-700 px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-2xl font-bold text-white\",\n                children: \"Scenario Playground \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-blue-100 mt-1\",\n                children: \"Create your scenario, plan ahead and reach your goals\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleReload,\n                className: \"inline flex ml-auto w-24 sm:w-auto p-2 bg-blue-600 text-white text-md font-semibold rounded-md hover:bg-blue-500\",\n                children: [/*#__PURE__*/_jsxDEV(TbReload, {\n                  className: \"mr-2 self-center font-medium text-lg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 37\n                }, this), \"Reload\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(WhatifHelpFloating, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(WhatifSliders, {\n            categories: categories,\n            selectedMonth: selectedMonth,\n            availableMonths: availableMonths,\n            adjustments: adjustments,\n            savings: savings,\n            isLoading: isLoading,\n            error: error,\n            amountLeft: amountLeft,\n            onMonthChange: handleMonthChange,\n            onSliderChange: handleSliderChange,\n            onSaveClick: () => setShowSaveScenario(true),\n            onAddCategoryClick: () => setShowAddWhatifCategory(true),\n            onDeleteCategory: handleDeleteHypotheticalCategory\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1 bg-white shadow-xl rounded-xl overflow-hidden flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-r from-lime-900 to-lime-700 px-4 py-3 flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-1.5 bg-white/20 rounded-lg\",\n                children: /*#__PURE__*/_jsxDEV(TbPigMoney, {\n                  className: \"text-white text-lg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-bold text-white\",\n                  children: \"Scenario Summary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-emerald-100 text-xs\",\n                  children: [\"Analysis for \", selectedMonth]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 overflow-y-auto flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: savings.total_monthly_savings > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-green-50 border border-green-200 rounded-lg p-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-1.5 bg-green-100 rounded-full\",\n                    children: /*#__PURE__*/_jsxDEV(GiReceiveMoney, {\n                      className: \"text-green-600 text-lg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-green-800 font-semibold text-base\",\n                      children: [\"Save $\", Number(savings.total_monthly_savings).toFixed(2), \"!\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 292,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-green-600 text-xs\",\n                      children: \"Great job! Your adjustments help reach goals faster.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 295,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 37\n              }, this) : savings.total_monthly_savings < 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-red-50 border border-red-200 rounded-lg p-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-1.5 bg-red-100 rounded-full\",\n                    children: /*#__PURE__*/_jsxDEV(GiPayMoney, {\n                      className: \"text-red-600 text-lg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-red-800 font-semibold text-base\",\n                      children: [\"Additional: $\", Math.abs(savings.total_monthly_savings).toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-red-600 text-xs\",\n                      children: \"Consider adjusting expenses to stay within budget.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 37\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 border border-gray-200 rounded-lg p-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"p-1.5 bg-gray-200 rounded-full\",\n                    children: /*#__PURE__*/_jsxDEV(TbPigMoney, {\n                      className: \"text-gray-500 text-lg\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-600 font-semibold text-base\",\n                      children: \"No changes to spending\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-500 text-xs\",\n                      children: \"Adjust sliders to see financial impact.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 327,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-blue-50 border border-blue-200 rounded-lg p-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-gray-700 font-semibold mb-2 text-xs uppercase tracking-wide\",\n                  children: \"Amount remaining:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 37\n                }, this), savings.category_breakdown.length > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-blue-600\",\n                  children: [\"$\", parseFloat(hypotheticalAmount).toFixed(2), \" remaining for the month.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-500\",\n                  children: \"Adjust sliders to view amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-gray-700 font-semibold mb-2 text-xs uppercase tracking-wide\",\n                children: \"Category Breakdown\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-1\",\n                children: [savings.category_breakdown.filter(category => category.savings !== 0).map((category, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between p-2 bg-gray-50 rounded-lg\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-700 font-medium text-sm\",\n                    children: category.category_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `font-semibold text-sm ${category.savings > 0 ? 'text-green-600' : 'text-red-600'}`,\n                    children: [category.savings > 0 ? '+' : '', \" $\", Number(category.savings).toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 49\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 45\n                }, this)), savings.category_breakdown.filter(category => category.savings !== 0).length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center py-3 text-gray-500\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm\",\n                    children: \"No adjustments made yet. Use sliders to see impact!\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(WhatIfChart, {\n          categories: categories,\n          selectedMonth: selectedMonth,\n          savings: savings,\n          adjustments: adjustments,\n          isLoading: isLoading,\n          error: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(ScenarioList, {\n          refreshTrigger: refreshScenarios\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 17\n      }, this), showSaveScenario && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg p-6 max-w-md w-full mx-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSaveScenario(false),\n            className: \"  block ml-auto w-24 sm:w-auto p-2 bg-gray-500 text-white  rounded-md hover:bg-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(SaveScenario, {\n            category_breakdown: savings.category_breakdown,\n            total_monthly_savings: savings.total_monthly_savings,\n            selectedMonth: selectedMonth,\n            onClose: () => setShowSaveScenario(false),\n            onScenarioSaved: handleScenarioSaved\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 21\n      }, this), showAddWhatifCategory && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg p-6 max-w-md w-full mx-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowAddWhatifCategory(false),\n            className: \"block ml-auto w-24 sm:w-auto p-2 bg-gray-500 text-white  rounded-md hover:bg-gray-600\",\n            children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(AddWhatifCategory, {\n            onSave: handleHypotheticalCategoryAdded,\n            onClose: () => setShowAddWhatifCategory(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 9\n  }, this);\n}\n_s(Whatif, \"/ZiTNLbD6MHFXvAsFzMrx7sc0Ls=\", false, function () {\n  return [useNavigate];\n});\n_c = Whatif;\nvar _c;\n$RefreshReg$(_c, \"Whatif\");","map":{"version":3,"names":["useEffect","useState","useRef","WhatifSliders","WhatIfChart","axios","GiPayMoney","GiReceiveMoney","TbPigMoney","TbReload","FaTimes","FaRegListAlt","SaveScenario","ScenarioList","AddWhatifCategory","WhatifHelpFloating","useNavigate","jsxDEV","_jsxDEV","Whatif","amountLeft","_s","apiBaseUrl","process","env","REACT_APP_API_URL","categories","setCategories","adjustments","setAdjustments","savings","setSavings","total_monthly_savings","category_breakdown","hypotheticalAmount","setHypotheticalAmount","isLoading","setIsLoading","error","setError","availableMonths","setAvailableMonths","selectedMonth","setSelectedMonth","refreshScenarios","setRefreshScenarios","showAddWhatifCategory","setShowAddWhatifCategory","Navigate","handleNavigation","route","handleNavigate","fetchAvailableMonths","fetchExpenseCategory","response","get","withCredentials","data","available_months","length","currentDate","Date","currentMonth","toLocaleDateString","month","year","_error$response","_error$response$data","console","log","initialAdjustments","forEach","cat","category_id","original_amount","_error$response2","_error$response2$data","handleMonthChange","e","newMonth","target","value","pendingChangesRef","current","timerRef","clearTimeout","handleSliderChange","categoryId","newAmount","newAdjustments","setTimeout","allAdjustments","post","hypothetical_remaining_amount","_error$response3","_error$response3$data","handleReload","window","location","reload","handleScenarioSaved","prev","handleHypotheticalCategoryAdded","handleDeleteHypotheticalCategory","delete","prevCategories","filter","prevAdjustments","_error$response4","_error$response4$data","showSaveScenario","setShowSaveScenario","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onMonthChange","onSliderChange","onSaveClick","onAddCategoryClick","onDeleteCategory","Number","toFixed","Math","abs","parseFloat","category","map","index","category_name","refreshTrigger","onClose","onScenarioSaved","onSave","_c","$RefreshReg$"],"sources":["/Users/shufengoh/Desktop/MAC 2025/COMP693 Individual Project/COMP693_25S2_project_Shu_Fen_Goh_1162340/frontend/src/components/Whatif.jsx"],"sourcesContent":["import { useEffect, useState, useRef } from 'react';\nimport WhatifSliders from \"./WhatifSliders\";\nimport WhatIfChart from \"./WhatifChart\";\nimport axios from 'axios'; \nimport { GiPayMoney, GiReceiveMoney } from \"react-icons/gi\";\nimport { TbPigMoney, TbReload  } from \"react-icons/tb\";\nimport { FaTimes, FaRegListAlt} from 'react-icons/fa';\nimport SaveScenario from './SaveScenario';\nimport ScenarioList from './ScenarioList';\nimport AddWhatifCategory from './AddWhatifCat';\nimport WhatifHelpFloating from './WhatifHelpFloating';\nimport { useNavigate } from 'react-router-dom';\n\n\nexport default function Whatif({ amountLeft }) {\n    const apiBaseUrl = process.env.REACT_APP_API_URL;\n    \n    // states - categories, adjustments, savings, loading, error\n    const [categories, setCategories] = useState([]);\n    const [adjustments, setAdjustments] = useState({});\n    const [savings, setSavings] = useState({\n        total_monthly_savings: 0,\n        category_breakdown: []\n    });\n    const [hypotheticalAmount, setHypotheticalAmount] = useState (0)\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [availableMonths, setAvailableMonths] = useState([]);\n    const [selectedMonth, setSelectedMonth] = useState('');\n    const [refreshScenarios, setRefreshScenarios] = useState(0);\n    const [showAddWhatifCategory, setShowAddWhatifCategory] = useState(false);\n    \n    const Navigate = useNavigate ();\n    const handleNavigation =(route) => {\n        handleNavigate(route);\n    }\n\n    // Fetch available months when component mounts\n    useEffect(() => {\n        fetchAvailableMonths();\n    }, [selectedMonth]);\n\n    \n   // Fetch categories when selectedMonth changes\n    useEffect(() => {\n        if (selectedMonth) {\n            fetchExpenseCategory();\n        }\n    }, [selectedMonth]);\n\n    // filtering for months\n    const fetchAvailableMonths = async () => {\n        try {\n            setIsLoading(true);\n            setError(null);\n            const response = await axios.get(`${apiBaseUrl}/whatif/available_months`, {\n                withCredentials: true\n            });\n            setAvailableMonths(response.data.available_months);\n            // selects latest month as default\n            if (response.data.available_months.length === 0) {\n                // Set current month as default for new users\n                const currentDate = new Date();\n                const currentMonth = currentDate.toLocaleDateString('en-US', { \n                    month: 'long', \n                    year: 'numeric' \n                });\n                setSelectedMonth(currentMonth);\n            } else if (!selectedMonth) {\n                setSelectedMonth(response.data.available_months[0]);\n            }\n        } catch (error) {\n            setError(error.response?.data?.error || 'Failed to fetch available months');\n            console.error('Error fetching months:', error);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    // fetch expense category for display of current data onto sliders\n    const fetchExpenseCategory = async () => {\n        try {\n            setIsLoading(true);\n            setError(null);\n            \n            const response = await axios.get(`${apiBaseUrl}/whatif/expense_categories/${selectedMonth}`, {\n                withCredentials: true\n            });\n            \n            console.log('Categories response:', response.data);\n            if (response.data.categories) {\n                setCategories(response.data.categories);\n                \n                const initialAdjustments = {};\n                response.data.categories.forEach(cat => {\n                    initialAdjustments[cat.category_id] = cat.original_amount;\n                });\n                setAdjustments(initialAdjustments);\n            }\n        } catch (error) {\n            setError(error.response?.data?.error || 'Failed to fetch expense categories');\n            console.error('Error fetching categories:', error);\n        } finally {\n            setIsLoading(false);\n        }\n    }\n\n    const handleMonthChange = (e) => {\n        const newMonth = e.target.value;\n        setSelectedMonth(newMonth);\n        \n        // when changing from months(eg. Jul to May), \n        // need to reset savings and adjustments for new month\n        setSavings({\n            total_monthly_savings: 0,\n            category_breakdown: []\n        });\n        setAdjustments({});\n        \n        // Clear any pending changes\n        pendingChangesRef.current = {};\n        \n        // Clear any active timer\n        if (timerRef.current) {\n            clearTimeout(timerRef.current);\n        }\n    };\n\n    //UseRef so the page doesnt render with each slider being moved.\n    // for a better UI, lesser API calls \n    const timerRef = useRef(null);\n    const pendingChangesRef = useRef({});\n    // added useRef with a timer function so it will only have 1API call at the end of the timer\n    // prevents lag, slow loading, multiple API calls and infinite renderings\n    const handleSliderChange = async (categoryId, newAmount) => {\n        // Update UI immediately for responsiveness\n        const newAdjustments = { ...adjustments, [categoryId]: newAmount };\n        setAdjustments(newAdjustments);\n        // Store the adjustsment made within the set time and send it as a batch for API call \n        pendingChangesRef.current[categoryId] = newAmount;\n        // if there is a slider change, timer resets\n        // Clear previous timer and set new one\n        clearTimeout(timerRef.current);\n        timerRef.current = setTimeout(async () => {\n            try {\n                // keep a record of all pending changes of sliders\n                const allAdjustments = { ...adjustments, ...pendingChangesRef.current };\n                \n                const response = await axios.post(`${apiBaseUrl}/whatif/adjust_preview`, {\n                    month: selectedMonth,\n                    adjustments: allAdjustments\n                }, { withCredentials: true });\n                \n                console.log('from backend:', response.data);\n                console.log('category breakdown:', response.data.category_breakdown);\n                \n                setSavings({\n                    total_monthly_savings: response.data.total_monthly_savings,\n                    category_breakdown: response.data.category_breakdown\n                });\n                setHypotheticalAmount ( response.data.hypothetical_remaining_amount)\n                // Clear pending changes after successful API call\n                pendingChangesRef.current = {};\n            } catch (error) {\n                setError(error.response?.data?.error || 'Failed to calculate savings');\n                console.error('Error calculating savings:', error);\n            }\n        }, 500); // 500ms timer delay. send API call only after the timer goes out.\n    };\n\n    // handle reload of whole page\n    const handleReload = () => {\n        window.location.reload();\n    }\n\n    // Function to trigger scenario list refresh\n    // This increments the refreshTrigger state, which causes ScenarioList to re-fetch scenarios\n    const handleScenarioSaved = () => {\n        setRefreshScenarios(prev => prev + 1);\n    };\n\n    // Function to handle when a new hypothetical category is added\n    const handleHypotheticalCategoryAdded = () => {\n        // Refresh categories to include the new hypothetical category\n        if (selectedMonth) {\n            fetchExpenseCategory();\n        }\n        setShowAddWhatifCategory(false);\n    };\n\n    // Function to handle deletion of hypothetical categories\n    const handleDeleteHypotheticalCategory = async (categoryId) => {\n        try {\n            await axios.delete(`${apiBaseUrl}/whatif/delete_hypothetical_category`, {\n                data: { category_id: categoryId },\n                withCredentials: true\n            });\n            \n            // Remove the category from UI so it doesnt appear immediately.\n            setCategories(prevCategories => \n                prevCategories.filter(cat => cat.category_id !== categoryId)\n            );\n            \n            // Resets the adjustments back to its original without the deleted hypothetical_cat\n            setAdjustments(prevAdjustments => {\n                const newAdjustments = { ...prevAdjustments };\n                delete newAdjustments[categoryId];\n                return newAdjustments;\n            });\n            // Refresh the expense categories to get updated data\n            if (selectedMonth) {\n                fetchExpenseCategory();\n            }\n        } catch (error) {\n            setError(error.response?.data?.error || 'Failed to delete hypothetical category');\n            console.error('Error deleting hypothetical category:', error);\n        }\n    };\n        // for save scenario section\n    const [showSaveScenario, setShowSaveScenario] = useState(false);\n   \n    return(\n        <div className=\"min-h-screen bg-gray-50 py-4 sm:py-6 lg:py-8 px-3 sm:px-4 lg:px-6 xl:px-8\">\n            <div className=\"max-w-6xl mx-auto\">\n                <div className=\"bg-white shadow-lg rounded-lg overflow-hidden mb-6\">\n                {/* Header */}\n                <div className=\"bg-gradient-to-r from-lime-900 to-lime-700 px-6 py-4\">\n                    <div className=\"flex items-center justify-between\">\n                        <div>\n                            <h2 className=\"text-2xl font-bold text-white\">Scenario Playground </h2>\n                            <p className=\"text-blue-100 mt-1\">Create your scenario, plan ahead and reach your goals</p>   \n                        </div>\n                        <div>\n                        <button onClick={handleReload} \n                        className =\"inline flex ml-auto w-24 sm:w-auto p-2 bg-blue-600 text-white text-md font-semibold\n                                    rounded-md hover:bg-blue-500\">\n                                    <TbReload className= \"mr-2 self-center font-medium text-lg\"/>Reload</button>\n                        </div>\n                    </div>\n                </div>\n                </div>  \n                {/* Floating Help Button */}\n                <WhatifHelpFloating />\n                \n                {/* Sliders and Scenario Summary */}\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6\">\n                    {/* Whatif Sliders */}\n                    <div className=\"lg:col-span-2\">\n                        <WhatifSliders \n                            categories={categories}\n                            selectedMonth={selectedMonth}\n                            availableMonths={availableMonths}\n                            adjustments={adjustments}\n                            savings={savings}\n                            isLoading={isLoading}\n                            error={error}\n                            amountLeft={amountLeft}\n                            onMonthChange={handleMonthChange}\n                            onSliderChange={handleSliderChange}\n                            onSaveClick={() => setShowSaveScenario(true)}\n                            onAddCategoryClick={() => setShowAddWhatifCategory(true)}\n                            onDeleteCategory={handleDeleteHypotheticalCategory}\n                        />\n                    </div>\n                    \n                    {/* Scenario Summary */}\n                    <div className=\"lg:col-span-1 bg-white shadow-xl rounded-xl overflow-hidden flex flex-col\">\n                        {/* Summary Header */}\n                        <div className=\"bg-gradient-to-r from-lime-900 to-lime-700 px-4 py-3 flex-shrink-0\">\n                            <div className=\"flex items-center space-x-2\">\n                                <div className=\"p-1.5 bg-white/20 rounded-lg\">\n                                    <TbPigMoney className=\"text-white text-lg\" />\n                                </div>\n                                <div>\n                                    <h3 className=\"text-lg font-bold text-white\">Scenario Summary</h3>\n                                    <p className=\"text-emerald-100 text-xs\">Analysis for {selectedMonth}</p>\n                                </div>\n                            </div>\n                        </div>\n\n                        {/* Summary Content */}\n                        <div className=\"p-4 overflow-y-auto flex-1\">\n                            {/* Main Result */}\n                            <div className=\"mb-4\">\n                                {savings.total_monthly_savings > 0 ? (\n                                    <div className=\"bg-green-50 border border-green-200 rounded-lg p-3\">\n                                        <div className=\"flex items-center space-x-2\">\n                                            <div className=\"p-1.5 bg-green-100 rounded-full\">\n                                                <GiReceiveMoney className=\"text-green-600 text-lg\" />\n                                            </div>\n                                            <div>\n                                                <p className=\"text-green-800 font-semibold text-base\">\n                                                Save ${Number(savings.total_monthly_savings).toFixed(2)}!\n                                                </p>\n                                                <p className=\"text-green-600 text-xs\">\n                                                Great job! Your adjustments help reach goals faster.\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ) : savings.total_monthly_savings < 0 ? (\n                                    <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\n                                        <div className=\"flex items-center space-x-2\">\n                                            <div className=\"p-1.5 bg-red-100 rounded-full\">\n                                                <GiPayMoney className=\"text-red-600 text-lg\" />\n                                            </div>\n                                            <div>\n                                                <p className=\"text-red-800 font-semibold text-base\">\n                                                Additional: ${Math.abs(savings.total_monthly_savings).toFixed(2)}\n                                                </p>\n                                                <p className=\"text-red-600 text-xs\">\n                                                Consider adjusting expenses to stay within budget.\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                ) : (\n                                    <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-3\">\n                                        <div className=\"flex items-center space-x-2\">\n                                            <div className=\"p-1.5 bg-gray-200 rounded-full\">\n                                                <TbPigMoney className=\"text-gray-500 text-lg\" />\n                                            </div>\n                                            <div>\n                                                <p className=\"text-gray-600 font-semibold text-base\">\n                                                    No changes to spending\n                                                </p>\n                                                <p className=\"text-gray-500 text-xs\">\n                                                    Adjust sliders to see financial impact.\n                                                </p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                            \n                            {/* Amount remaining */}\n                            <div className=\"mb-4\">\n                                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-2\">\n                                    <h3 className=\"text-gray-700 font-semibold mb-2 text-xs uppercase tracking-wide\">Amount remaining:</h3>\n                                    {savings.category_breakdown.length > 0 ? (\n                                        <p className=\"text-sm text-blue-600\">${parseFloat(hypotheticalAmount).toFixed(2)} remaining for the month.</p>\n                                    ) : (\n                                        <p className=\"text-sm text-gray-500\">Adjust sliders to view amount</p>\n                                    )}\n                                </div>\n                            </div>\n                            \n                            {/* Category Breakdown */}\n                            <div>\n                                <h4 className=\"text-gray-700 font-semibold mb-2 text-xs uppercase tracking-wide\">\n                                    Category Breakdown\n                                </h4>\n                                <div className=\"space-y-1\">\n                                    {savings.category_breakdown\n                                        .filter(category => category.savings !== 0)\n                                        .map((category, index) => (\n                                            <div key={index} className=\"flex items-center justify-between p-2 bg-gray-50 rounded-lg\">\n                                                <span className=\"text-gray-700 font-medium text-sm\">{category.category_name}</span>\n                                                <span className={`font-semibold text-sm ${category.savings > 0 ? 'text-green-600': 'text-red-600'}`}>\n                                                    {category.savings > 0 ? '+' : ''} ${Number(category.savings).toFixed(2)}\n                                                </span>\n                                            </div>\n                                        ))}\n                                    {savings.category_breakdown.filter(category => category.savings !== 0).length === 0 && (\n                                        <div className=\"text-center py-3 text-gray-500\">\n                                            <p className=\"text-sm\">No adjustments made yet. Use sliders to see impact!</p>\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                \n                {/* Chart Section - Moved below sliders */}\n                <div className=\"mb-6\">\n                    <WhatIfChart \n                        categories={categories}\n                        selectedMonth={selectedMonth}\n                        savings={savings}\n                        adjustments={adjustments}\n                        isLoading={isLoading}\n                        error={error}\n                    />\n                </div>\n                \n                {/* Saved Scenarios */}\n                <div className=\"mb-6\">\n                    <ScenarioList refreshTrigger={refreshScenarios} />\n                </div>\n\n                     {/* add scenario component */}\n\n                     {showSaveScenario && (\n                    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n                        <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n                             <button \n                                onClick={() => setShowSaveScenario(false)}\n                                className=\"  block ml-auto w-24 sm:w-auto p-2 bg-gray-500 text-white \n                                rounded-md hover:bg-gray-600\"\n                            >\n                                <FaTimes />\n                            </button>\n                            <SaveScenario \n                                category_breakdown={savings.category_breakdown}\n                                total_monthly_savings={savings.total_monthly_savings}\n                                selectedMonth={selectedMonth}\n                                onClose ={ () => setShowSaveScenario(false)}\n                                onScenarioSaved={handleScenarioSaved}\n                            />\n                           \n                        </div>\n                    </div>\n                        )}\n\n                    {/* Add Category  */}\n                    {showAddWhatifCategory && (\n                        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n                            <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n                                <button \n                                    onClick={() => setShowAddWhatifCategory(false)}\n                                    className=\"block ml-auto w-24 sm:w-auto p-2 bg-gray-500 text-white \n                                    rounded-md hover:bg-gray-600\"\n                                >\n                                    <FaTimes />\n                                </button>\n                                <AddWhatifCategory \n                                    onSave={handleHypotheticalCategoryAdded}\n                                    onClose={() => setShowAddWhatifCategory(false)}\n                                />\n                            </div>\n                        </div>\n                    )}\n            </div>\n        </div>\n    )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}